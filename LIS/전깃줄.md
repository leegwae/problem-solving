# 전깃줄

https://www.acmicpc.net/problem/2565

## 문제

- 전봇대 두 대가 있다.
- 각 전봇대 사이에 전깃줄 `N`개가 있다.
- 각 전깃줄은 전봇대 `A`의 위치 `a`와 전봇대 `B`의 위치 `b`를 잇고 있다.
- 전깃줄을 없애 겹치는 전깃줄이 없도록 하려 한다.
- 없애야하는 최소 전깃줄의 수는?

## 아이디어

처음에는 백트래킹을 통한 완전 탐색이라고 생각했다. 전깃줄을 넣었을 때 교차하지 않는다면 넣는 경우, 전깃줄을 넣지 않는 경우로 나누었다.

```python
def backtracking(cur, selected):
    a, b = lines[cur]
    전깃줄 `(a, b)`가 현재 선택된 전깃줄 `selected`와 교차하지 않는다면:
        backtracking(cur + 1, selected + [(a, b)])
    backtracking(cur + 1, list(selected))
```

하지만 이 방식은 시간 초과가 났다. 조합을 구하고 각 조합마다 교차하는지 탐색했기 때문이다.

## 해결

이 문제는 LIS(최장 증가 부분 수열)로 풀 수 있다. 잘 생각해보면, 전깃줄 `(1, 4)`와 `(2,3)`이 있을 때 이들이 교차하는지는 나열해서 알 수 있는 것이다. `1 4 2 3`으로, 이들은 교차한다. 
정확히는 `B` 전봇대 번호만 보면 된다. `A` 전봇대 번호는 겹칠 일이 없고, 뒷 순서에 있는 전깃줄의 `B` 전봇대 번호가 뒤에 있는 전깃줄의 `B` 전봇대 번호보다 작다면 교차가 일어난 것이다.

```python
# dp[i]에는 line[i]가 마지막 요소인 LIS의 길이가 담긴다.
for i in range(1, N):
    for j in range(i):
        if line[i][1] > line[j][1]:
            dp[i] = max(dp[i], dp[j] + 1)
```